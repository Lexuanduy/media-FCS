<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../src/recorder.js"></script>
<script src="../src/Fr.voice.js"></script>
<script src="../js/jquery.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="../js/app.js"></script>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
	integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
	crossorigin="anonymous">
<link rel="stylesheet" href="../asset/css/styleIndex.css">
</head>
<body>
	<div class="container">
		<div class="container content">
			<div class="upload">
				<div class="upload-content">
					<div class="record-text">
						<h2>Record</h2>
					</div>
					<div class="upload-link">
						<a href="/uploadFile">Or upload?</a>
					</div>
				</div>
				<p class="voice-media">My media - The premier voice recording
					service</p>
			</div>
			<div class="header">
				<div id="fb-root">
					<!-- <div class="fb-login-button" data-max-rows="1" data-size="small"
						data-button-type="continue_with" data-show-faces="true"
						data-auto-logout-link="true" data-use-continue-as="true"
						scope="public_profile,email" onlogin="checkLoginState();"></div> -->
					<fb:login-button data-max-rows="1" data-size="small" data-button-type="continue_with" data-show-faces="true" data-auto-logout-link="true" data-use-continue-as="true" scope="public_profile,email"
						onlogin="checkLoginState();">
					</fb:login-button>
					<div id="status"></div>
				</div>
			</div>
			<div class="row share-option">
				<div class="input-group">
					<div class="row share-link">
						<div class="col-sm-4" style="padding-left: 0;">
							<p class="sharing-option">Sharing:</p>
						</div>
						<div class="col-sm-8" style="padding-left: 23px;">
							<input type="text" id="idShareMediaLink" class="form-control"
								placeholder="For sharing..." aria-label="For sharing"
								aria-describedby="basic-addon1">
						</div>
					</div>
					<div class="shareHorizontalSeparator"></div>
					<div class="share-button">
						<!-- <button type="button" id="shareBtn" title="share facebok" clearfix"> -->
						<a id="shareBtn"
							class="addthis_button_facebook addthis_button_preferred_1 at300b"
							title="Facebook" href="#"><span class="at-icon-wrapper"
							style="background-color: rgb(59, 89, 152); line-height: 32px; height: 32px; width: 32px;"><svg
									xmlns="http://www.w3.org/2000/svg"
									xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"
									version="1.1" role="img" aria-labelledby="at-svg-facebook-2"
									title="Facebook" alt="Facebook"
									style="width: 32px; background-color: rgb(59, 89, 152); height: 32px;"
									class="at-icon at-icon-facebook">
								<title id="at-svg-facebook-2">Facebook</title><g>
								<path
										d="M22 5.16c-.406-.054-1.806-.16-3.43-.16-3.4 0-5.733 1.825-5.733 5.17v2.882H9v3.913h3.837V27h4.604V16.965h3.823l.587-3.913h-4.41v-2.5c0-1.123.347-1.903 2.198-1.903H22V5.16z"
										fill-rule="evenodd" style="fill: #fff;"></path></g></svg></span> </a>
						<!-- </button> -->
					</div>
				</div>
			</div>
			<div class="loader-content">
				<div class="loader"></div>
			</div>
			<audio controls id="audio"></audio>
			<!-- <audio id="audio" controls data-toggle="tooltip"
				data-placement="left" title="play">
			</audio> -->
			<div class="playerBox" id="idPlayerBox">
				<!-- <div class="record-box">
					<div class="record-box-content"></div>
				</div> -->
				<div class="row record-btn">
					<div class="col-sm-4"></div>
					<div class="col-sm-8" style="padding-left: 0;">
						<button type="button" id="record" data-toggle="tooltip"
							data-placement="left" title="Click to record"
							class="button recordButton btn btn-danger">
							<i class="fas fa-microphone-alt"></i>
						</button>
						<button type="button" id="pause" data-toggle="tooltip"
							data-placement="left" title="pause"
							class="button disabled one btn btn-secondary">
							<i class="fas fa-pause"></i>
						</button>
						<button type="button" id="stop" data-toggle="tooltip"
							data-placement="left" title="reset"
							class="button disabled one btn btn-success">Reset</button>
					</div>
				</div>
			</div>
			<br />
			<div class="wav-controls" data-type="wav">
				<div class="row">
					<div class="col-sm-4"></div>
					<div class="col-sm-8" style="padding-left: 0;">
						<button type="button" id="save" data-toggle="tooltip"
							data-placement="left" title="upload to server"
							class="button disabled one btn btn-outline-info">
							<i class="fas fa-upload"></i>
						</button>
						<button type="button" id="download" data-toggle="tooltip"
							data-placement="left" title="download"
							class="button disabled one btn btn-outline-warning">
							<i class="fas fa-download"></i>
						</button>
						<button type="button" id="play" data-toggle="tooltip"
							data-placement="left" title="play"
							class="button disabled one btn btn-outline-primary"
							style="margin-left: 0;">
							<i class="fas fa-play"></i>
						</button>
					</div>
				</div>
			</div>

			<canvas id="level" height="200"></canvas>
			<div class="bottom">
				Â© 2018 <a href="https://mymedia-218206.appspot.com">My media</a>
			</div>
		</div>
	</div>
	<script>
		$(document).ready(function() {
			$("#record").click(function() {
				$("#level").show();
			});
			$("#save").click(function() {
				$(".input-group").show();
				$("#level").hide();
				$(".loader").show();
			});
			$("#play").click(function() {
				$("#audio").show();
			});
			$("#pause").click(function() {
				$(".wav-controls").show();
			});
		});

		function statusChangeCallback(response) {
			console.log('statusChangeCallback');
			console.log(response);
			if (response.status === 'connected') {
				// Logged into your app and Facebook.
				testAPI();
			} else {
				// The person is not logged into your app or we are unable to tell.
				document.getElementById('status').innerHTML = 'Please log '
						+ 'into this app.';
			}
		}
		function checkLoginState() {
			FB.getLoginStatus(function(response) {
				statusChangeCallback(response);
			});
		}

		window.fbAsyncInit = function() {
			FB.init({
				appId : '{your-app-id}',
				cookie : true, // enable cookies to allow the server to access 
				// the session
				xfbml : true, // parse social plugins on this page
				version : 'v2.8' // use graph api version 2.8
			});
			FB.getLoginStatus(function(response) {
				statusChangeCallback(response);
			});

		};

		// Load the SDK asynchronously
		(function(d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id))
				return;
			js = d.createElement(s);
			js.id = id;
			js.src = 'https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v3.1&appId=1326545090735920&autoLogAppEvents=1';
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
		//

		function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      console.log(response);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
    });
  }
	</script>
</body>
</html>
